!function($){"use strict";var e={initialize:function(){$("select#erp-country").on("change",this.populateState),$("#postimagediv").on("click","#set-company-thumbnail",this.setCompanyLogo),$("#postimagediv").on("click","a.remove-logo",this.removeCompanyLogo),$("select#erp-country").change()},setCompanyLogo:function(e){e.preventDefault(),e.stopPropagation();var t;return t?void t.open():(t=wp.media({title:wpErp.upload_logo,button:{text:wpErp.set_logo}}),t.on("select",function(){var e=t.state().get("selection");e.map(function(e){e=e.toJSON();var t='<img src="'+e.url+'" alt="" />';t+='<input type="hidden" name="company_logo_id" value="'+e.id+'" />',t+='<a href="#" class="remove-logo">'+wpErp.remove_logo+"</a>",$(".inside","#postimagediv").html(t)})}),void t.open())},removeCompanyLogo:function(e){e.preventDefault();var t='<a href="#" id="set-company-thumbnail" class="thickbox">'+wpErp.upload_logo+"</a>";$(".inside","#postimagediv").html(t)},populateState:function(){if("undefined"==typeof wpErpCountries)return!1;var e=$(this).val(),t='<option val="-1">-------------</option>';if(wpErpCountries[e]){var o="",i=wpErpCountries[e];for(var n in i)o=o+'<option value="'+n+'">'+i[n]+"</option>";$("#erp-state").html($.isArray(wpErpCountries[e])?t:o)}else $("#erp-state").html(t)}};$(function(){e.initialize()})}(jQuery,this),jQuery.fn.serializeObject=function(){var e={},t=this.serializeArray();return jQuery.each(t,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e};
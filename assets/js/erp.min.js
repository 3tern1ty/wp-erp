!function($){"use strict";var o={initialize:function(){$("select#erp-country").on("change",this.populateState),$("#postimagediv").on("click","#set-company-thumbnail",this.setCompanyLogo),$("#postimagediv").on("click","a.remove-logo",this.removeCompanyLogo),$("select#erp-country").change()},setCompanyLogo:function(o){o.preventDefault(),o.stopPropagation();var t;return t?void t.open():(t=wp.media({title:wpErp.upload_logo,button:{text:wpErp.set_logo}}),t.on("select",function(){var o=t.state().get("selection");o.map(function(o){o=o.toJSON();var t='<img src="'+o.url+'" alt="" />';t+='<input type="hidden" name="company_logo_id" value="'+o.id+'" />',t+='<a href="#" class="remove-logo">'+wpErp.remove_logo+"</a>",$(".inside","#postimagediv").html(t)})}),void t.open())},removeCompanyLogo:function(o){o.preventDefault();var t='<a href="#" id="set-company-thumbnail" class="thickbox">'+wpErp.upload_logo+"</a>";$(".inside","#postimagediv").html(t)},populateState:function(){if("undefined"==typeof wpErpCountries)return!1;var o=$(this).val(),t='<option val="-1">-------------</option>';if(console.log(o),console.log(wpErpCountries[o]),wpErpCountries[o]){var e="",i=wpErpCountries[o];for(var n in i)e=e+'<option value="'+n+'">'+i[n]+"</option>";$("#erp-state").html($.isArray(wpErpCountries[o])?t:e)}else $("#erp-state").html(t)}};$(function(){o.initialize()})}(jQuery,this);
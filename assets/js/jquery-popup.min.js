!function($,t,e,o){function s(t){this.settings=$.extend({},i,t),this.element=$(this.settings.content),this._defaults=i,this._name=n,this.init()}var n="erpPopup",i={title:"",content:"",button:"Submit",extraClass:"",onSubmit:function(){}};$.extend(s.prototype,{init:function(){this.show_modal(),this.bindEvents()},bindEvents:function(){$(".erp-modal-backdrop, .erp-modal .close").on("click",$.proxy(this.closeModal,this)),$(".erp-modal form.erp-modal-form").on("submit",$.proxy(this.formSubmit,this)),$(t).on("keydown",$.proxy(this.onEscapeKey,this))},formSubmit:function(t){t.preventDefault(),this.settings.onSubmit.call($(t.currentTarget))},show_modal:function(){var t=$(".erp-modal");""!==this.settings.extraClass&&t.addClass(this.settings.extraClass),$(".erp-modal-backdrop").show(),t.find("h2").text(this.settings.title),t.find(".button-primary").text(this.settings.button),t.find(".content").empty().html(this.element),t.show()},onEscapeKey:function(t){27===t.keyCode&&this.closeModal()},closeModal:function(t){"undefined"!=typeof t&&t.preventDefault(),$(".erp-modal .content").empty(),$(".erp-modal-backdrop, .erp-modal").hide(),$(".erp-modal form.erp-modal-form").off("submit",this.formSubmit),""!==this.settings.extraClass&&$(".erp-modal").removeClass(this.settings.extraClass)}}),$.erpPopup=function(t){new s(t)}}(jQuery,window,document);
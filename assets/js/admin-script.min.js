!function($,o){"use strict";$(function(){var e={initialize:function(){this.self=this,$("#erp-employee-new").on("click",$.proxy(this.modalNewEmployee,this)),$("select#erp-country").on("change",this.populateState),$("#postimagediv").on("click","#set-company-thumbnail",this.setCompanyLogo),$("#postimagediv").on("click","a.remove-logo",this.removeCompanyLogo),$("select#erp-country").change()},hideModal:function(){},modalNewEmployee:function(o){o.preventDefault(),$("#dd").defaultPluginName({})},setCompanyLogo:function(o){o.preventDefault(),o.stopPropagation();var e;return e?void e.open():(e=wp.media({title:wpErp.upload_logo,button:{text:wpErp.set_logo}}),e.on("select",function(){var o=e.state().get("selection");o.map(function(o){o=o.toJSON();var e='<img src="'+o.url+'" alt="" />';e+='<input type="hidden" name="company_logo_id" value="'+o.id+'" />',e+='<a href="#" class="remove-logo">'+wpErp.remove_logo+"</a>",$(".inside","#postimagediv").html(e)})}),void e.open())},removeCompanyLogo:function(o){o.preventDefault();var e='<a href="#" id="set-company-thumbnail" class="thickbox">'+wpErp.upload_logo+"</a>";$(".inside","#postimagediv").html(e)},populateState:function(){if("undefined"==typeof wpErpCountries)return!1;var o=$(this).val(),e='<option val="-1">-------------</option>';if(console.log(o),console.log(wpErpCountries[o]),wpErpCountries[o]){var t="",i=wpErpCountries[o];for(var n in i)t=t+'<option value="'+n+'">'+i[n]+"</option>";$("#erp-state").html($.isArray(wpErpCountries[o])?e:t)}else $("#erp-state").html(e)}};e.initialize(),$(".erp-modal-backdrop, .erp-modal .close").on("click",function(o){$(".erp-modal-backdrop, .erp-modal").hide(),o.preventDefault()}),$(o).on("keydown",function(o){27===o.keyCode&&$(".erp-modal-backdrop, .erp-modal").hide()})})}(jQuery,this);